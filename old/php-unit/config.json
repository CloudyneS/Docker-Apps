{
    "settings": {
        "http": {
            "header_read_timeout": 30,
            "body_read_timeout": 30,
            "idle_timeout": 30,
            "max_body_size": 512111110
        }
    },
    "listeners": {
        "*:8080": {
            "pass": "routes"
        }
    },
    "routes": [
        {
            "action": {
                "return": 200
            },
            "match": {
                "uri": [
                    "/unit-ping"
                ]
            }
        },
        {
            "action": {
                "return": 404
            },
            "match": {
                "uri": [
                    "/app/uploads/**/*.php",
                    "/app/uploads/.*.php"
                ]
            }
        },
        {
            "action": {
                "pass": "applications/php/direct"
            },
            "match": {
                "uri": [
                    "*.php",
                    "*.php/*",
                    "/wp-admin/",
                    "/wp/wp-admin/"
                ]
            }
        },
        {
            "action": {
                "share": "/app/web$uri",
                "follow_symlinks": true,
                "index": "index.html index.htm",
                "fallback": {
                    "pass": "applications/php/direct"
                }
            }
        }
    ],

    "applications": {
        "php": {
            "type": "php",
            "root": "/app/web",
            "user": "nobody",
            "group": "nobody",
            "options": {
                "user": {
                    "display_errors": "0"
                },
                "admin": {
                    "memory_limit": "512M"
                }
            },
            "targets": {
                "direct": {},
                "index": {
                    "root": "/app/web",
                    "script": "index.php"
                }
            } 
        }
    }
}